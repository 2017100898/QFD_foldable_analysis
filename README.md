# QFD를 이용한 폴더블 스마트폰 추후 모델 예측 : 데이터 분석을 이용한 품질기능전개
2020-2 경희대학교 창의적종합설계 및 졸업논문 팀 프로젝트   

<img src = "https://img.shields.io/badge/language-Python-9cf"> 

## Overview
### 과제 선정 배경 및 필요성
- 스마트폰의 출시 이후로 성장을 계속해왔던 휴대폰 시장은 2016년부터 내리막을 걷게 되었고 이에 따라 스마트폰 시장에는 새로운 변화가 필요하였다. 이러한 상황에서 경쟁력을 가지게 된 것은 스마트폰의 폼펙터 차별화였고, 그 중에서 차세대 폼펙터로 떠오른 것이 바로 플렉서블 디스플레이를 가진 폴더블 스마트폰이다. 폴더블 스마트폰은 일반 스마트폰처럼 바(bar)형으로도 사용할 수 있고, 태블릿처럼도 사용할 수 있는 엄청난 경쟁력을 가지고 있다. 
- 2020년 현재 모토롤라의 Razr, 화웨이의 Mate 시리즈 등 다양한 폴더블 스마트폰이 등장했다. 그러나 그 중에서도 삼성전자는 90%에 가까운 압도적인 시장점유율을 갖고 있다. 이렇게 높은 시장 점유율을 갖고 있는 삼성전자가 기존 점유율을 앞으로도 유지하거나 높이기 위하여, 삼성 갤럭시 Z 시리즈의 다양한 요소와 특성들이 차기작에 어떻게 영향을 미칠지 품질기능전개(Quality Function Deployment)를 사용해서 분석하고 해석하고자 한다.

### 과제 주요 내용
품질기능전개(QFD)의 고객 요구사항, 기술 특성 추출 요소를 도출하고 목표치를 설정하기 위해 다음과 같은 과정을 거친다.
  - 리뷰 데이터 분석을 통한 고객 요구사항 도출
    - 고객요구속성(CA: Customer Attributes)의 데이터는 주로 설문조사, 인터뷰 등의 여러가지 다양한 방법으로 얻을 수 있다. 
    - 본 연구에서는 국내, 국외의 13개의 커뮤니티 리뷰 혹은 구매 후기 등을 텍스트 마이닝을 통하여 데이터를 수집하였으며, 정확성을 위해 세분화하고, 불필요한 요소를 제거하는 등의 전처리를 통한 후 토픽들 위주로 분할하였다. 또한 그 옆의 요구사항 중요도는 보통의 경우 AHP기법 등을 통하여 고객들에게 직접 받아내나, 본 연구의 경우 회귀분석을 통하여 고객들의 만족 가중치를 도출해냈다.
  - 특허 데이터 분석을 통한 기술 특성 도출 및 상관관계 평가
    - 품질의 집(HOQ: House of Quality)의 상단에 위치한 기술특성(EC: Engineering Characteristics)은 주로 전문가, 기술자, 엔지니어들에 의해 결정되고 통제되는 변수들이며, 고객들에게 직접적으로 제품에 대한 인식에 영향을 미칠 수 있어야 하는 요소들로 구성되어 있어야 한다. 
    - 본 연구에서는 고객들이 요구했던 품질들을 토픽으로 나누고 그 토픽들을 통하여 특허식을 만들어 검색, 이후 특허에 나와있는 ‘발명의 효과’를 참고하여 각 토픽들의 기술적인 특성을 추출하였다. 
  - 요구사항과 기술특성 간 상관관계 평가
    - 기술특성을 추출할 때 참고했던 특허들의 ‘발명의 효과’를 참고하여 고객요구사항과의 연관성을 파악하였고, 이를 통하여 핵심품질특성(CTQ: Critical to Quality)을 도출해 낼 수 있었다.
  - 헤도닉 가격 분석 및 목표치 설정
    - 본 연구에서는 헤도닉 가격분석모형(Hedonic Price Model)을 통하여 도출한 기술특성 요소들이 각각 어떻게 변하면 가격이 어떻게 달라지는지에 따라 가격을 예측하고, 이와 QFD를 연계하여 목표치를 도출해내고자 한다.
    
## Results
### 고객 요구사항 도출
- 리뷰 데이터 분석
  - 본 연구에서는 고객 리뷰 데이터를 수집하고 이를 네트워크 분석 그래프로 변환함으로써 품질기능전개(QFD)의 고객요구사항을 도출하고자 한다. 더불어 각 고객요구사항이 긍정 리뷰에 미치는 영향을 회귀분석을 통해 분석함으로써 각 고객요구사항의 중요도를 알아내는 데에 목표를 두고 있다.
  - 갤럭시Z폴드2와 갤럭시Z플립에 대한 사용자 의견을 파악하기 위해 국내 및 해외 12개의 사이트의 리뷰 데이터를 수집한다. 각각 ‘Z폴드2’와 ‘Z플립’라는 키워드로 텍스트를 수집했으며, 수집 기간은 각 폴더블 스마트폰의 출시일 이후로 제한하였다.
  - 데이터 전처리 과정을 거쳐 데이터를 분석하기 좋은 형태로 만들어준다. 전처리 과정은 문장 단위로의 분할, 한국어 추출, 형태소 분석, 불용어 제거, 형용사 normalization 과정으로 이루어진다.
- 네트워크 분석 및 고객요구사항 도출
  - 네트워크 분석을 위해 앞서 전처리 했던 데이터의 동시발생행렬을 구축한다. 그리고 시각화 된 네트워크 분석 그래프를 통해 고객요구사항을 합리적으로 결정한다. 이 과정을 통해 갤럭시Z폴드2는 총 9개, 갤럭시Z플립은 총 11개의 고객요구사항이 도출된다.
  
```python
#네트워크분석 그래프 구축

import networkx as nx
G = nx.from_pandas_edgelist(a,  edge_attr=True)

# Weight가 일정값 이하인 노드 삭제

def drop_low_weighted_edge(inputG, above_weight=3):
    rG = nx.Graph()
    rG.add_nodes_from(inputG.nodes(data=True))
    edges = filter(lambda e: True if e[2]['weightcustom']>=above_weight else False, inputG.edges(data=True))
    rG.add_edges_from(edges)

    for n in inputG.nodes():
        if len(list(nx.all_neighbors(rG, n)))==0:
            rG.remove_node(n)
    return rG

G= drop_low_weighted_edge(G, 130)
```

- 고객요구사항의 중요도 산정
  - 고객요구사항의 중요도를 산정하기 위해 가장 먼저 리뷰 데이터에서의 긍정 형용사와 고객요구사항들 간의 동시발생 행렬을 구축한다. <br>
  - ```ln⁡(Y)=B_0+B_1X_1+⋯+B_i X_i+e_i``` 
  - 상단의 식에서 X_i는 고객요구사항과 긍정적 형용사 간의 동시 발생 빈도를 뜻하고, Y는 긍정 형용사의 발생 빈도를 뜻한다. 종속변수 Y값에는 로그를 취함으로써 변화율 개념을 적용하고 회귀선의 오차를 줄인다. 마지막으로 회귀분석을 통해 도출되는 B_i가 본 연구에서 찾고자 하는 각 고객요구사항들의 가중치가 된다. 해당 가중치의 보정을 통해 중요도를 계산할 수 있다.


- 리뷰 분석 결과
  - 네트워크 시각화 결과는 다음과 같다.
  - 또한, 회귀 분석을 통해 이끌어낸 중요도를 통해 갤럭시Z폴드2의 고객이 가장 중요하게 생각하는 요소는 ‘영상’, 갤럭시Z플립은 ‘분할’임을 파악할 수 있다.
<p align = "center">
<img src = "https://user-images.githubusercontent.com/64299475/127339514-8ae00d09-b715-4427-9dd6-9bbd212a8db5.jpeg" height="500"><br>
갤럭시Z폴드2 네트워크분석 그래프<br><br>
<img src = "https://user-images.githubusercontent.com/64299475/127339523-ac13ec96-cc31-4125-a5d5-539d60ab7778.jpeg" height="500"><br>
갤럭시Z 네트워크분석 그래프
</p>

<p align = "center">
<img width="400" alt="image" src="https://user-images.githubusercontent.com/64299475/127340829-c8b5d0c3-9c1d-48bf-9ae3-190b19fdaf0f.png"></p>




### 기술 특성 도출 및 상관관계 평가
- 특허 데이터 분석
  - 특허정보검색서비스(KIPRIS)를 활용한 특허 데이터 분석을 통해 앞서 살펴본 폴더블 스마트폰의 고객 요구사항별 기술 특성을 파악해 보고자 한다. 우선 앞서 선정된 주요 고객요구 사항들을 검색에 적합한 특허식으로 전환하였다. 두 번쨰로, 검색된 특허에서 ‘발명 효과’의 내용을 참고하여 주요한 기술특성을 범주화하였다. 세 번째로, 주요 고객요구 사항들과 도출된 기술특성 간의 관계를 살펴보았다. 각각의 고객요구 사항들이 갖는 주요 특허의 수 및 기술특성을 표로 시각화하고자 하였다.
- 특허분석 결과
   - 최종 품질의 집에서, 관계점수에 중요도를 곱하여 합산하게 되면 핵심품질특성(CTQ)을 도출할 수 있다. 최종적으로 영상의 성능개선을 가장 주요한 핵심품질특성(CTQ)으로 선정하였다. 
<p align = "center">
<img width="526" alt="image" src="https://user-images.githubusercontent.com/64299475/127410898-be3850e5-5109-4aac-808d-e20d79fdca1e.png"><br>
갤럭시Z폴드2 최종 품질의 집(HOQ)<br><br>
<img width="526" alt="image" src="https://user-images.githubusercontent.com/64299475/127410902-c593b70e-7c65-47bf-8b3f-9d47eae2690e.png"><br>
갤럭시Z플립 최종 품질의 집(HOQ)</p>


### 목표치 설정
- 헤도닉 가격 분석
  - ```P=P(Q_1,Q_2,Q_3,…,Q_i,…,Q_m)```
  - 헤도닉 가격모형은 알고자 하는 목표 값을 P 로 두고, 목표 값에 대해 의사결정을 할 때 고려되는 다양한 특성들을 Q_1 (i=1,2,…,m) 에 대입한다. 그리고 모든 변수들을 가격으로 가치를 설정하여 가치를 평가하는 모형이다. 본 연구에서는 다음 헤도닉 가격함수를 스마트폰에 적용해서 분석을 진행하였다.
- 헤도닉 가격 분석 결과
  - 각 독립변수들의 기준과 단위에 따라 데이터를 수집하여 파이썬 사이킷런 전처리 라이브러리를 이용해 정규화 과정을 거쳤다. 그렇게 전처리 된 데이터를 기반으로 피어슨 상관분석을 진행하였고, 각 요인들 간의 상관관계가 80% 이상인 것들은 통합하여 2차적으로 X요인들을 추려냈다. 추려낸 X요인들을 본 연구 리뷰 분석을 통해 고객 요구사항을 도출해냈을 때와 동일한 방법으로 다중 회귀분석을 거쳤으며, 유의도 10%를 기준으로 유의수준이 좋고, 신뢰도가 높게 나오는 X요인들의 조합을 찾아 최종 X요인들로 선정하였다. 
  - 두께 요인의 경우, 시대의 흐름에 따라 더 얇고 가벼운 스마트폰을 선호하는 소비자들의 경향이 가격에 음의 영향을 미침으로써 잘 반영되었음을 알 수 있다. 특히 폴더블 기능을 지원할 때에 가격에 미치는 영향이 가장 크고, 그 외 후면카메라의 개수나 RAM, 크기 또한 양의 영향을 미치는 것을 알 수 있다.
<p align = "center">
<img width="300" alt="image" src="https://user-images.githubusercontent.com/64299475/127454066-8bad9445-7818-4e51-a51c-60e86f4f6224.png"><br>
<img width="300" alt="image" src="https://user-images.githubusercontent.com/64299475/127454076-09af17d1-1aa8-442c-9a32-69e1ef0ad45a.png"><br>유의한 최종 X요인 다중회귀 결과</p>

<br>
 <p align = "center">
 <img width="510" alt="20210729_170136" src="https://user-images.githubusercontent.com/64299475/127455116-49b73ff0-edb0-4b92-9a0e-2dff8a51889d.png"><br>X요인들이 Y요인에 미치는 영향</p>



## Conclusion
- 본 연구를 통해 현 스마트폰 시장 속에서 스펙 향상이 필수적으로 요구되며, 가장 우선적인 특성은 영상의 품질개선임을 확인하였다. 또한, 폴더블 스마트폰을 생산하는 기업은 가격의 상승과 제품의 향상에 대한 적절한 조치가 요구된다는 것을 알 수 있었다. 
- 한편 본 연구는 폴더블 스마트폰의 시장이 아직 초기 단계라 분석할 데이터의 양이 적어 신뢰도가 떨어진다는 한계점이 있었고, 특허분석도 일반 스마트폰에 대한 특허를 분석하였다보니 Z플립과 Z폴드2의 분리된 분석에 어려움이 있었다. 또한 가격에 영향을 미치는 변수가 제품의 특성 외에도 매우 많기에 차기 제품에 정확히 대입하기 보다는 각각의 특성이 어느정도 영향을 미치는지만 확인할 수 있었다. 
- 그렇지만 본 연구는 기존의 품질기능전개(QFD)와는 각각의 단계에서 차별적인 방법을 통해 진행되었다는 점에서 의의를 갖는다. 또한 내부 기술자가 아닌 제3자의 입장에서 품질기능을 전개하였고 데이터분석을 경영관리 기법에 적용해보았다는 점에서 의의를 갖는다.

## Reports
* Midterm PPT: [Report](Report/midterm.pptx)
* Final PPT: [Report](Report/final.pptx)
* Final Thesis: [Report](Reports/FinalThesis.pdf)
